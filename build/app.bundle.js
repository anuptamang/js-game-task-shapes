!function(){"use strict";var t={d:function(n,e){for(var i in e)t.o(e,i)&&!t.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:e[i]})},o:function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}};t.d({},{Wp:function(){return y},g:function(){return h},qB:function(){return m},SB:function(){return g}});var n=JSON.parse('[{"id":"101","figure":"circle"},{"id":"102","figure":"rectangle"},{"id":"103","figure":"square"},{"id":"104","figure":"triangle"},{"id":"105","figure":"star"},{"id":"106","figure":"trapezoid"},{"id":"107","figure":"rhombus"},{"id":"108","figure":"pentagon"},{"id":"109","figure":"hexagon"},{"id":"110","figure":"ellipse"},{"id":"111","figure":"chat"},{"id":"112","figure":"close"},{"id":"113","figure":"frame"},{"id":"114","figure":"cross"}]'),e="disabled";function i(){h&&(h.innerHTML="Counts: ".concat(g.counter))}function r(t){for(var n,e=t.length;0!=e;){n=Math.floor(Math.random()*e),e--;var i=[t[n],t[e]];t[e]=i[0],t[n]=i[1]}return t}function a(t){var n;t&&(g.initialData=g.initialData.filter((function(n){return n.id!==t.id}))),null===(n=document.getElementById(null==t?void 0:t.id))||void 0===n||n.remove()}function o(){null==m||m.addEventListener("click",(function(t){var n=t.target;a(g.initialData.find((function(t){return t.id===n.id}))),g.counter=g.initialData.length,i()}))}function u(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function c(t){if("ADD"===t){var n=r((p=g.data,y=g.initialData,p.filter((function(t){return!y.find((function(n){return t.id===n.id}))})))).pop(),e=u(r(g.favColors)),l=u(r(g.size));n.figure="".concat(n.figure," ").concat(r(e).pop()," ").concat(r(l).pop()),g.initialData=[].concat(u(g.initialData),[n]),d=n,f=function(t){if(t){var n,e=t.figure,i=null==e?void 0:e.split(" "),r=document.createElement("div");return i&&((null==i?void 0:i.length)>1&&(null==i?void 0:i.length)<3?r.classList.add("figure","figure-".concat(i[0]),"".concat(i[1])):(null==i?void 0:i.length)>2?r.classList.add("figure","figure-".concat(i[0]),"".concat(i[1]),"".concat(i[2])):r.classList.add("figure","figure-".concat(i[0]))),r.setAttribute("id",t.id),r.style.left="".concat((0,80,Math.floor(81*Math.random())+0),"%"),null==m||m.appendChild(r),null===(n=document.getElementById("".concat(t.id)))||void 0===n||n.classList.add("out"),setTimeout((function(){var n;return null===(n=document.getElementById("".concat(t.id)))||void 0===n?void 0:n.classList.add("in")})),r}}(n),s=0,v=setInterval((function(){s===(null==m?void 0:m.clientHeight)-f.offsetHeight?(clearInterval(v),g.initialData=g.initialData.filter((function(t){return t.id!==d.id})),g.counter=g.initialData.length,f.remove(),i()):(s++,f.style.bottom=s+"px")}),15),o()}else{var c=g.initialData.pop();g.initialData=g.initialData.slice(0,-1),a(c),o()}var d,f,s,v,p,y}function d(t){null==t||t.forEach((function(t){return t.classList.add(e)}))}var f,s,g={data:n,initialData:[{}],counter:0,favColors:["blue","green","yellow","purple","orange","red"],size:["small","medium","large"]},v=document.querySelector("[".concat("data-game-box","]")),m=null==v?void 0:v.querySelector("[".concat("data-game-screen-holder","]")),p=null==v?void 0:v.querySelectorAll("[".concat("data-game-controller-btn","]")),y=null==v?void 0:v.querySelectorAll("[".concat("data-game-counter-btn","]")),h=null==v?void 0:v.querySelector("[".concat("data-game-counter-display","]"));g.initialData=(f=g.data,s=g.counter,null==f?void 0:f.filter((function(t,n){return n<s}))),o(),d(y),function(t){null==t||t.forEach((function(t){return function(t){null==t||t.addEventListener("click",(function(){var n;"START"===(null==t||null===(n=t.getAttribute("data-game-controller-btn"))||void 0===n?void 0:n.toUpperCase())?function(t){null==t||t.forEach((function(t){return t.classList.remove(e)}))}(y):(d(y),g.counter=0,g.initialData=[],m.innerHTML="",i())}))}(t)}))}(p),function(t){null==t||t.forEach((function(t){return function(t){t.addEventListener("click",(function(){var n;return"INCREMENT"===(null==t||null===(n=t.getAttribute("data-game-counter-btn"))||void 0===n?void 0:n.toUpperCase())?void(g.counter<g.data.length&&(g.counter=g.counter+1,i(),c("ADD"))):void(g.counter&&(g.counter>0&&(g.counter=g.counter-1,i()),c("REMOVE")))}))}(t)}))}(y),i()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dUNFYyxDQUFnQlIsR016Q1gsU0FBNkJSLEdBQ2xDQSxTQUFBQSxFQUFhQyxTQUFRLFNBQUNDLEdBQUcsT0NDcEIsU0FBOEJBLEdBQ25DQSxFQUFJUyxpQkFBaUIsU0FBUyx1QmpCTW5CLGVpQkxUVCxTQUE4QyxRQUEzQyxFQUFIQSxFQUFLVSxhakJFUyxnQ2lCRmdDLFdBQTNDLEVBQUgsRUFBZ0RDLG9CQ0E5Q3JFLEVBQU1DLFFBQVVELEVBQU1jLEtBQUtSLFNDRi9CTixFQUFNQyxRQUFVRCxFQUFNQyxRQUFVLEVBRWhDSixJREVFNkIsRWxCSUcsY29CTkQxQixFQUFNQyxVQ0ZORCxFQUFNQyxRQUFVLElBQ2xCRCxFQUFNQyxRQUFVRCxFQUFNQyxRQUFVLEVBQ2hDSixLREVBNkIsRXBCS00sV2lCSnNCLEdBRWhDLENEUmdDK0MsQ0FBcUJmLEVBQUksR0FDekQsQ04wQ0VnQixDQUFvQmxCLEdBR3BCM0QsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbWUtdGFzay93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9nYW1lLXRhc2svd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2dhbWUtdGFzay93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2dhbWUtdGFzay8uL3NyYy9qcy9kYXRhL2NvbnN0YW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly9nYW1lLXRhc2svLi9zcmMvanMvY29tcG9uZW50cy9oYW5kbGVDb3VudGVyRGlzcGxheS5qcyIsIndlYnBhY2s6Ly9nYW1lLXRhc2svLi9zcmMvanMvdXRpbHMvYXJyYXlTdWZmbGUuanMiLCJ3ZWJwYWNrOi8vZ2FtZS10YXNrLy4vc3JjL2pzL2NvbXBvbmVudHMvaGFuZGxlUmVtb3ZlU2hhcGUuanMiLCJ3ZWJwYWNrOi8vZ2FtZS10YXNrLy4vc3JjL2pzL2NvbXBvbmVudHMvaGFuZGxlUmVtb3ZlRmlndXJlT25DbGljay5qcyIsIndlYnBhY2s6Ly9nYW1lLXRhc2svLi9zcmMvanMvY29tcG9uZW50cy9oYW5kbGVJdGVtQWRkUmVtb3ZlLmpzIiwid2VicGFjazovL2dhbWUtdGFzay8uL3NyYy9qcy91dGlscy9nZXRVbmlxdWVDb21wYXJlUmVzdWx0LmpzIiwid2VicGFjazovL2dhbWUtdGFzay8uL3NyYy9qcy9jb21wb25lbnRzL2hhbmRsZU1vdmVTaGFwZS5qcyIsIndlYnBhY2s6Ly9nYW1lLXRhc2svLi9zcmMvanMvY29tcG9uZW50cy9oYW5kbGVDcmVhdGVJbWFnZS5qcyIsIndlYnBhY2s6Ly9nYW1lLXRhc2svLi9zcmMvanMvY29tcG9uZW50cy9oYW5kbGVDb3VudGVyRGlzYWJsZS5qcyIsIndlYnBhY2s6Ly9nYW1lLXRhc2svLi9zcmMvanMvYXBwLmpzIiwid2VicGFjazovL2dhbWUtdGFzay8uL3NyYy9qcy91dGlscy9nZXRMaW1pdGVkSXRlbXMuanMiLCJ3ZWJwYWNrOi8vZ2FtZS10YXNrLy4vc3JjL2pzL2NvbXBvbmVudHMvaGFuZGxlTG9hZEluaXRpYWxEYXRhLmpzIiwid2VicGFjazovL2dhbWUtdGFzay8uL3NyYy9qcy9jb21wb25lbnRzL2hhbmRsZVN0YXJ0U3RvcC5qcyIsIndlYnBhY2s6Ly9nYW1lLXRhc2svLi9zcmMvanMvY29tcG9uZW50cy9oYW5kbGVUcmlnZ2VyU3RhcnRTdG9wLmpzIiwid2VicGFjazovL2dhbWUtdGFzay8uL3NyYy9qcy9jb21wb25lbnRzL2hhbmRsZUNvdW50ZXJFbmFibGUuanMiLCJ3ZWJwYWNrOi8vZ2FtZS10YXNrLy4vc3JjL2pzL2NvbXBvbmVudHMvaGFuZGxlQ291bnRlckFjdGlvbi5qcyIsIndlYnBhY2s6Ly9nYW1lLXRhc2svLi9zcmMvanMvY29tcG9uZW50cy9oYW5kbGVBZGRSZW1vdmVJdGVtcy5qcyIsIndlYnBhY2s6Ly9nYW1lLXRhc2svLi9zcmMvanMvY29tcG9uZW50cy9oYW5kbGVDb3VudGVySW5jcmVtZW50LmpzIiwid2VicGFjazovL2dhbWUtdGFzay8uL3NyYy9qcy9jb21wb25lbnRzL2hhbmRsZUluY3JlbWVudEFjdGlvbi5qcyIsIndlYnBhY2s6Ly9nYW1lLXRhc2svLi9zcmMvanMvY29tcG9uZW50cy9oYW5kbGVDb3VudGVyRGVjcmVtZW50LmpzIiwid2VicGFjazovL2dhbWUtdGFzay8uL3NyYy9qcy9jb21wb25lbnRzL2hhbmRsZURlY3JlbWVudEFjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiZXhwb3J0IGNvbnN0IFVJX0NPTlNUQU5UUyA9IHtcbiAgZ2FtZUJveDogJ2RhdGEtZ2FtZS1ib3gnLFxuICBnYW1lU2NyZWVuSG9sZGVyOiAnZGF0YS1nYW1lLXNjcmVlbi1ob2xkZXInLFxuICBnYW1lQ29udHJvbGxlckJ0bjogJ2RhdGEtZ2FtZS1jb250cm9sbGVyLWJ0bicsXG4gIGdhbWVDb3VudGVyQnRuOiAnZGF0YS1nYW1lLWNvdW50ZXItYnRuJyxcbiAgZ2FtZUNvdW50ZXJEaXNwbGF5OiAnZGF0YS1nYW1lLWNvdW50ZXItZGlzcGxheScsXG5cbiAgY29udHJvbGxlckJ0bkF0dHI6ICdkYXRhLWdhbWUtY29udHJvbGxlci1idG4nLFxuICBjb3VudGVyQnRuQXR0cjogJ2RhdGEtZ2FtZS1jb3VudGVyLWJ0bicsXG4gIGRpc2FibGVkQ2xhc3M6ICdkaXNhYmxlZCcsXG4gIFNUQVJUOiAnU1RBUlQnLFxuICBJTkNSRU1FTlQ6ICdJTkNSRU1FTlQnLFxuICBBREQ6ICdBREQnLFxuICBSRU1PVkU6ICdSRU1PVkUnLFxufVxuIiwiaW1wb3J0IHsgY291bnRlckRpc3BsYXksIHN0YXRlIH0gZnJvbSAnLi4vYXBwJ1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQ291bnRlckRpc3BsYXkoKSB7XG4gIGlmIChjb3VudGVyRGlzcGxheSkge1xuICAgIGNvdW50ZXJEaXNwbGF5LmlubmVySFRNTCA9IGBDb3VudHM6ICR7c3RhdGUuY291bnRlcn1gXG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XG4gIGxldCBjdXJyZW50SW5kZXggPSBhcnJheS5sZW5ndGgsXG4gICAgcmFuZG9tSW5kZXhcblxuICAvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS5cbiAgd2hpbGUgKGN1cnJlbnRJbmRleCAhPSAwKSB7XG4gICAgLy8gUGljayBhIHJlbWFpbmluZyBlbGVtZW50LlxuICAgIHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY3VycmVudEluZGV4KVxuICAgIGN1cnJlbnRJbmRleC0tXG5cbiAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gICAgO1thcnJheVtjdXJyZW50SW5kZXhdLCBhcnJheVtyYW5kb21JbmRleF1dID0gW1xuICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdLFxuICAgICAgYXJyYXlbY3VycmVudEluZGV4XSxcbiAgICBdXG4gIH1cblxuICByZXR1cm4gYXJyYXlcbn1cbiIsImltcG9ydCB7IHN0YXRlIH0gZnJvbSAnLi4vYXBwJ1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUmVtb3ZlU2hhcGUocG9wRGF0YSkge1xuICBpZiAocG9wRGF0YSlcbiAgICBzdGF0ZS5pbml0aWFsRGF0YSA9IHN0YXRlLmluaXRpYWxEYXRhLmZpbHRlcihcbiAgICAgIChkYXRhKSA9PiBkYXRhLmlkICE9PSBwb3BEYXRhLmlkXG4gICAgKVxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3BEYXRhPy5pZCk/LnJlbW92ZSgpXG59XG4iLCJpbXBvcnQgeyBnYW1lQm94U2NyZWVuSG9sZGVyLCBzdGF0ZSB9IGZyb20gJy4uL2FwcCdcbmltcG9ydCB7IGhhbmRsZUNvdW50ZXJEaXNwbGF5IH0gZnJvbSAnLi9oYW5kbGVDb3VudGVyRGlzcGxheSdcbmltcG9ydCB7IGhhbmRsZVJlbW92ZVNoYXBlIH0gZnJvbSAnLi9oYW5kbGVSZW1vdmVTaGFwZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZUZpZ3VyZU9uQ2xpY2soKSB7XG4gIGdhbWVCb3hTY3JlZW5Ib2xkZXI/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBjb25zdCBmaWd1cmUgPSBlLnRhcmdldFxuICAgIGNvbnN0IGZpZ3VyZVRvUmVtb3ZlID0gc3RhdGUuaW5pdGlhbERhdGEuZmluZChcbiAgICAgIChpdGVtKSA9PiBpdGVtLmlkID09PSBmaWd1cmUuaWRcbiAgICApXG5cbiAgICBoYW5kbGVSZW1vdmVTaGFwZShmaWd1cmVUb1JlbW92ZSlcblxuICAgIHN0YXRlLmNvdW50ZXIgPSBzdGF0ZS5pbml0aWFsRGF0YS5sZW5ndGhcbiAgICBoYW5kbGVDb3VudGVyRGlzcGxheSgpXG4gIH0pXG59XG4iLCJpbXBvcnQgeyBzdGF0ZSB9IGZyb20gJy4uL2FwcCdcbmltcG9ydCB7IFVJX0NPTlNUQU5UUyB9IGZyb20gJy4uL2RhdGEvY29uc3RhbnRzJ1xuaW1wb3J0IHsgZ2V0VW5pcXVlQ29tcGFyZVJlc3VsdCwgc2h1ZmZsZSB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgaGFuZGxlQ3JlYXRlSW1hZ2UgfSBmcm9tICcuL2hhbmRsZUNyZWF0ZUltYWdlJ1xuaW1wb3J0IHsgaGFuZGxlTW92ZVNoYXBlIH0gZnJvbSAnLi9oYW5kbGVNb3ZlU2hhcGUnXG5pbXBvcnQgeyBoYW5kbGVSZW1vdmVGaWd1cmVPbkNsaWNrIH0gZnJvbSAnLi9oYW5kbGVSZW1vdmVGaWd1cmVPbkNsaWNrJ1xuaW1wb3J0IHsgaGFuZGxlUmVtb3ZlU2hhcGUgfSBmcm9tICcuL2hhbmRsZVJlbW92ZVNoYXBlJ1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlSXRlbUFkZFJlbW92ZSh0eXBlKSB7XG4gIGlmICh0eXBlID09PSBVSV9DT05TVEFOVFMuQUREKSB7XG4gICAgY29uc3QgZCA9IGdldFVuaXF1ZUNvbXBhcmVSZXN1bHQoc3RhdGUuZGF0YSwgc3RhdGUuaW5pdGlhbERhdGEpXG4gICAgbGV0IG5ld0RhdGEgPSBzaHVmZmxlKGQpLnBvcCgpXG5cbiAgICBsZXQgZmF2ID0gWy4uLnNodWZmbGUoc3RhdGUuZmF2Q29sb3JzKV1cbiAgICBsZXQgc2l6ZSA9IFsuLi5zaHVmZmxlKHN0YXRlLnNpemUpXVxuXG4gICAgbmV3RGF0YS5maWd1cmUgPSBgJHtuZXdEYXRhLmZpZ3VyZX0gJHtzaHVmZmxlKGZhdikucG9wKCl9ICR7c2h1ZmZsZShcbiAgICAgIHNpemVcbiAgICApLnBvcCgpfWBcblxuICAgIHN0YXRlLmluaXRpYWxEYXRhID0gWy4uLnN0YXRlLmluaXRpYWxEYXRhLCBuZXdEYXRhXVxuXG4gICAgaGFuZGxlTW92ZVNoYXBlKG5ld0RhdGEsIGhhbmRsZUNyZWF0ZUltYWdlKG5ld0RhdGEpKVxuICAgIGhhbmRsZVJlbW92ZUZpZ3VyZU9uQ2xpY2soKVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHBvcERhdGEgPSBzdGF0ZS5pbml0aWFsRGF0YS5wb3AoKVxuICAgIHN0YXRlLmluaXRpYWxEYXRhID0gc3RhdGUuaW5pdGlhbERhdGEuc2xpY2UoMCwgLTEpXG4gICAgaGFuZGxlUmVtb3ZlU2hhcGUocG9wRGF0YSlcbiAgICBoYW5kbGVSZW1vdmVGaWd1cmVPbkNsaWNrKClcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFVuaXF1ZUNvbXBhcmVSZXN1bHQoYXJyMSwgYXJyMikge1xuICBjb25zdCBmaW5hbEFycmF5ID0gYXJyMS5maWx0ZXIoXG4gICAgKG9uZSkgPT4gIWFycjIuZmluZCgodHdvKSA9PiBvbmUuaWQgPT09IHR3by5pZClcbiAgKVxuICByZXR1cm4gZmluYWxBcnJheVxufVxuIiwiaW1wb3J0IHsgZ2FtZUJveFNjcmVlbkhvbGRlciwgc3RhdGUgfSBmcm9tICcuLi9hcHAnXG5pbXBvcnQgeyBoYW5kbGVDb3VudGVyRGlzcGxheSB9IGZyb20gJy4vaGFuZGxlQ291bnRlckRpc3BsYXknXG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVNb3ZlU2hhcGUoaXRlbSwgc2hhcGUpIHtcbiAgbGV0IHBvc2l0aW9uID0gMFxuICBsZXQgaWQgPSBzZXRJbnRlcnZhbChmcmFtZSwgMTUpXG5cbiAgZnVuY3Rpb24gZnJhbWUoKSB7XG4gICAgaWYgKHBvc2l0aW9uID09PSBnYW1lQm94U2NyZWVuSG9sZGVyPy5jbGllbnRIZWlnaHQgLSBzaGFwZS5vZmZzZXRIZWlnaHQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaWQpXG4gICAgICBzdGF0ZS5pbml0aWFsRGF0YSA9IHN0YXRlLmluaXRpYWxEYXRhLmZpbHRlcihcbiAgICAgICAgKGRhdGEpID0+IGRhdGEuaWQgIT09IGl0ZW0uaWRcbiAgICAgIClcbiAgICAgIHN0YXRlLmNvdW50ZXIgPSBzdGF0ZS5pbml0aWFsRGF0YS5sZW5ndGhcbiAgICAgIHNoYXBlLnJlbW92ZSgpXG4gICAgICBoYW5kbGVDb3VudGVyRGlzcGxheSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHBvc2l0aW9uKytcbiAgICAgIHNoYXBlLnN0eWxlLmJvdHRvbSA9IHBvc2l0aW9uICsgJ3B4J1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgZ2FtZUJveFNjcmVlbkhvbGRlciwgc3RhdGUgfSBmcm9tICcuLi9hcHAnXG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVDcmVhdGVJbWFnZShpdGVtKSB7XG4gIGlmIChpdGVtKSB7XG4gICAgY29uc3QgdHlwZSA9IGl0ZW0uZmlndXJlXG4gICAgY29uc3QgdHlwZUFyciA9IHR5cGU/LnNwbGl0KCcgJylcbiAgICBjb25zdCByYW5kb21WYWwgPSAobWluLCBtYXgpID0+XG4gICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluXG5cbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGlmICh0eXBlQXJyKSB7XG4gICAgICB0eXBlQXJyPy5sZW5ndGggPiAxICYmIHR5cGVBcnI/Lmxlbmd0aCA8IDNcbiAgICAgICAgPyBkaXYuY2xhc3NMaXN0LmFkZCgnZmlndXJlJywgYGZpZ3VyZS0ke3R5cGVBcnJbMF19YCwgYCR7dHlwZUFyclsxXX1gKVxuICAgICAgICA6IHR5cGVBcnI/Lmxlbmd0aCA+IDJcbiAgICAgICAgPyBkaXYuY2xhc3NMaXN0LmFkZChcbiAgICAgICAgICAgICdmaWd1cmUnLFxuICAgICAgICAgICAgYGZpZ3VyZS0ke3R5cGVBcnJbMF19YCxcbiAgICAgICAgICAgIGAke3R5cGVBcnJbMV19YCxcbiAgICAgICAgICAgIGAke3R5cGVBcnJbMl19YFxuICAgICAgICAgIClcbiAgICAgICAgOiBkaXYuY2xhc3NMaXN0LmFkZCgnZmlndXJlJywgYGZpZ3VyZS0ke3R5cGVBcnJbMF19YClcbiAgICB9XG4gICAgZGl2LnNldEF0dHJpYnV0ZSgnaWQnLCBpdGVtLmlkKVxuICAgIGRpdi5zdHlsZS5sZWZ0ID0gYCR7cmFuZG9tVmFsKDAsIDgwKX0lYFxuICAgIGdhbWVCb3hTY3JlZW5Ib2xkZXI/LmFwcGVuZENoaWxkKGRpdilcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2l0ZW0uaWR9YCk/LmNsYXNzTGlzdC5hZGQoJ291dCcpXG4gICAgc2V0VGltZW91dCgoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpdGVtLmlkfWApPy5jbGFzc0xpc3QuYWRkKCdpbicpKVxuXG4gICAgcmV0dXJuIGRpdlxuICB9XG59XG4iLCJpbXBvcnQgeyBVSV9DT05TVEFOVFMgfSBmcm9tICcuLi9kYXRhL2NvbnN0YW50cydcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUNvdW50ZXJEaXNhYmxlKGNvdW50ZXJCdG5zKSB7XG4gIGNvdW50ZXJCdG5zPy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QuYWRkKFVJX0NPTlNUQU5UUy5kaXNhYmxlZENsYXNzKSlcbn1cbiIsImltcG9ydCAnLi4vc2Nzcy9tYWluLnNjc3MnXG5pbXBvcnQgU0hBUEVTIGZyb20gJy4vZGF0YS9zaGFwZXMuanNvbidcbmltcG9ydCB7IFVJX0NPTlNUQU5UUyB9IGZyb20gJy4vZGF0YS9jb25zdGFudHMnXG5pbXBvcnQge1xuICBoYW5kbGVDb3VudGVyQWN0aW9uLFxuICBoYW5kbGVDb3VudGVyRGlzYWJsZSxcbiAgaGFuZGxlQ291bnRlckRpc3BsYXksXG4gIGhhbmRsZUxvYWRJbml0aWFsRGF0YSxcbiAgaGFuZGxlU3RhcnRTdG9wLFxufSBmcm9tICcuL2NvbXBvbmVudHMnXG5cbmV4cG9ydCBjb25zdCBzdGF0ZSA9IHtcbiAgZGF0YTogU0hBUEVTLFxuICBpbml0aWFsRGF0YTogW3t9XSxcbiAgY291bnRlcjogMCxcbiAgZmF2Q29sb3JzOiBbJ2JsdWUnLCAnZ3JlZW4nLCAneWVsbG93JywgJ3B1cnBsZScsICdvcmFuZ2UnLCAncmVkJ10sXG4gIHNpemU6IFsnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJ10sXG59XG5cbi8vIFVJIERPTSB2YXJpYWJsZXNcbmV4cG9ydCBjb25zdCBnYW1lQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgWyR7VUlfQ09OU1RBTlRTLmdhbWVCb3h9XWApXG5leHBvcnQgY29uc3QgZ2FtZUJveFNjcmVlbkhvbGRlciA9IGdhbWVCb3g/LnF1ZXJ5U2VsZWN0b3IoXG4gIGBbJHtVSV9DT05TVEFOVFMuZ2FtZVNjcmVlbkhvbGRlcn1dYFxuKVxuZXhwb3J0IGNvbnN0IHBsYXlCdG5zID0gZ2FtZUJveD8ucXVlcnlTZWxlY3RvckFsbChcbiAgYFske1VJX0NPTlNUQU5UUy5nYW1lQ29udHJvbGxlckJ0bn1dYFxuKVxuZXhwb3J0IGNvbnN0IGNvdW50ZXJCdG5zID0gZ2FtZUJveD8ucXVlcnlTZWxlY3RvckFsbChcbiAgYFske1VJX0NPTlNUQU5UUy5nYW1lQ291bnRlckJ0bn1dYFxuKVxuZXhwb3J0IGNvbnN0IGNvdW50ZXJEaXNwbGF5ID0gZ2FtZUJveD8ucXVlcnlTZWxlY3RvcihcbiAgYFske1VJX0NPTlNUQU5UUy5nYW1lQ291bnRlckRpc3BsYXl9XWBcbilcblxuLy8gR2FtZSBBcHAgaW5pdCBmdW5jdGlvblxuY29uc3QgaW5pdEdhbWVBcHAgPSAoKSA9PiB7XG4gIC8vIEFwcGVuZCBpbml0YWwgZGF0YSB0byBzY3JlZW5cbiAgaGFuZGxlTG9hZEluaXRpYWxEYXRhKClcblxuICAvLyBEaXNhYmxlIGNvdW50ZXIgYnRucyBvbiBzdGFydFxuICBoYW5kbGVDb3VudGVyRGlzYWJsZShjb3VudGVyQnRucylcblxuICAvLyBUb2dnbGUgU3RhcnQgLyBTdG9wIGFjdGlvblxuICBoYW5kbGVTdGFydFN0b3AocGxheUJ0bnMpXG5cbiAgLy8gaGFuZGxlIGNvdW50ZXIgYWN0aW9uc1xuICBoYW5kbGVDb3VudGVyQWN0aW9uKGNvdW50ZXJCdG5zKVxuXG4gIC8vIGhhbmRsZSBjb3VudGVyIGRpc3BsYXlcbiAgaGFuZGxlQ291bnRlckRpc3BsYXkoKVxufVxuXG4vLyBJbml0aWFsaXplIHRoZSBhcHBcbmluaXRHYW1lQXBwKClcbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRMaW1pdGVkSXRlbXMoaXRlbXMsIGxpbWl0KSB7XG4gIHJldHVybiBpdGVtcz8uZmlsdGVyKChpdGVtLCBpZHgpID0+IGlkeCA8IGxpbWl0KVxufVxuIiwiaW1wb3J0IHsgZ2FtZUJveFNjcmVlbkhvbGRlciwgc3RhdGUgfSBmcm9tICcuLi9hcHAnXG5pbXBvcnQgeyBoYW5kbGVDcmVhdGVJbWFnZSwgaGFuZGxlUmVtb3ZlRmlndXJlT25DbGljayB9IGZyb20gJy4uL2NvbXBvbmVudHMnXG5pbXBvcnQgeyBnZXRMaW1pdGVkSXRlbXMgfSBmcm9tICcuLi91dGlscydcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUxvYWRJbml0aWFsRGF0YSgpIHtcbiAgc3RhdGUuaW5pdGlhbERhdGEgPSBnZXRMaW1pdGVkSXRlbXMoc3RhdGUuZGF0YSwgc3RhdGUuY291bnRlcilcblxuICBoYW5kbGVSZW1vdmVGaWd1cmVPbkNsaWNrKGdhbWVCb3hTY3JlZW5Ib2xkZXIpXG59XG4iLCJpbXBvcnQgeyBoYW5kbGVUcmlnZ2VyU3RhcnRTdG9wIH0gZnJvbSAnLi9oYW5kbGVUcmlnZ2VyU3RhcnRTdG9wJ1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlU3RhcnRTdG9wKHBsYXlCdG5zKSB7XG4gIHBsYXlCdG5zPy5mb3JFYWNoKChidG4pID0+IGhhbmRsZVRyaWdnZXJTdGFydFN0b3AoYnRuKSlcbn1cbiIsImltcG9ydCB7IGNvdW50ZXJCdG5zLCBnYW1lQm94U2NyZWVuSG9sZGVyLCBzdGF0ZSB9IGZyb20gJy4uL2FwcCdcbmltcG9ydCB7IFVJX0NPTlNUQU5UUyB9IGZyb20gJy4uL2RhdGEvY29uc3RhbnRzJ1xuaW1wb3J0IHsgaGFuZGxlQ291bnRlckRpc2FibGUgfSBmcm9tICcuL2hhbmRsZUNvdW50ZXJEaXNhYmxlJ1xuaW1wb3J0IHsgaGFuZGxlQ291bnRlckRpc3BsYXkgfSBmcm9tICcuL2hhbmRsZUNvdW50ZXJEaXNwbGF5J1xuaW1wb3J0IHsgaGFuZGxlQ291bnRlckVuYWJsZSB9IGZyb20gJy4vaGFuZGxlQ291bnRlckVuYWJsZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVRyaWdnZXJTdGFydFN0b3AoYnRuKSB7XG4gIGJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKFxuICAgICAgYnRuPy5nZXRBdHRyaWJ1dGUoVUlfQ09OU1RBTlRTLmNvbnRyb2xsZXJCdG5BdHRyKT8udG9VcHBlckNhc2UoKSA9PT1cbiAgICAgIFVJX0NPTlNUQU5UUy5TVEFSVFxuICAgICkge1xuICAgICAgaGFuZGxlQ291bnRlckVuYWJsZShjb3VudGVyQnRucylcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlQ291bnRlckRpc2FibGUoY291bnRlckJ0bnMpXG4gICAgICBzdGF0ZS5jb3VudGVyID0gMFxuICAgICAgc3RhdGUuaW5pdGlhbERhdGEgPSBbXVxuICAgICAgZ2FtZUJveFNjcmVlbkhvbGRlci5pbm5lckhUTUwgPSAnJ1xuICAgICAgaGFuZGxlQ291bnRlckRpc3BsYXkoKVxuICAgIH1cbiAgfSlcbn1cbiIsImltcG9ydCB7IFVJX0NPTlNUQU5UUyB9IGZyb20gJy4uL2RhdGEvY29uc3RhbnRzJ1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQ291bnRlckVuYWJsZShjb3VudGVyQnRucykge1xuICBjb3VudGVyQnRucz8uZm9yRWFjaCgoYnRuKSA9PlxuICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFVJX0NPTlNUQU5UUy5kaXNhYmxlZENsYXNzKVxuICApXG59XG4iLCJpbXBvcnQgeyBoYW5kbGVBZGRSZW1vdmVJdGVtcyB9IGZyb20gJy4vaGFuZGxlQWRkUmVtb3ZlSXRlbXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVDb3VudGVyQWN0aW9uKGNvdW50ZXJCdG5zKSB7XG4gIGNvdW50ZXJCdG5zPy5mb3JFYWNoKChidG4pID0+IGhhbmRsZUFkZFJlbW92ZUl0ZW1zKGJ0bikpXG59XG4iLCJpbXBvcnQgeyBVSV9DT05TVEFOVFMgfSBmcm9tICcuLi9kYXRhL2NvbnN0YW50cydcbmltcG9ydCB7IGhhbmRsZUNvdW50ZXJEZWNyZW1lbnQgfSBmcm9tICcuL2hhbmRsZUNvdW50ZXJEZWNyZW1lbnQnXG5pbXBvcnQgeyBoYW5kbGVDb3VudGVySW5jcmVtZW50IH0gZnJvbSAnLi9oYW5kbGVDb3VudGVySW5jcmVtZW50J1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQWRkUmVtb3ZlSXRlbXMoYnRuKSB7XG4gIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XG4gICAgYnRuPy5nZXRBdHRyaWJ1dGUoVUlfQ09OU1RBTlRTLmNvdW50ZXJCdG5BdHRyKT8udG9VcHBlckNhc2UoKSA9PT1cbiAgICBVSV9DT05TVEFOVFMuSU5DUkVNRU5UXG4gICAgICA/IGhhbmRsZUNvdW50ZXJJbmNyZW1lbnQoKVxuICAgICAgOiBoYW5kbGVDb3VudGVyRGVjcmVtZW50KClcbiAgKVxufVxuIiwiaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuLi9hcHAnXG5pbXBvcnQgeyBVSV9DT05TVEFOVFMgfSBmcm9tICcuLi9kYXRhL2NvbnN0YW50cydcbmltcG9ydCB7IGhhbmRsZUluY3JlbWVudEFjdGlvbiB9IGZyb20gJy4vaGFuZGxlSW5jcmVtZW50QWN0aW9uJ1xuaW1wb3J0IHsgaGFuZGxlSXRlbUFkZFJlbW92ZSB9IGZyb20gJy4vaGFuZGxlSXRlbUFkZFJlbW92ZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUNvdW50ZXJJbmNyZW1lbnQoKSB7XG4gIGlmIChzdGF0ZS5jb3VudGVyIDwgc3RhdGUuZGF0YS5sZW5ndGgpIHtcbiAgICBoYW5kbGVJbmNyZW1lbnRBY3Rpb24oKVxuICAgIGhhbmRsZUl0ZW1BZGRSZW1vdmUoVUlfQ09OU1RBTlRTLkFERClcbiAgfVxufVxuIiwiaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuLi9hcHAnXG5pbXBvcnQgeyBoYW5kbGVDb3VudGVyRGlzcGxheSB9IGZyb20gJy4vaGFuZGxlQ291bnRlckRpc3BsYXknXG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVJbmNyZW1lbnRBY3Rpb24oKSB7XG4gIHN0YXRlLmNvdW50ZXIgPSBzdGF0ZS5jb3VudGVyICsgMVxuXG4gIGhhbmRsZUNvdW50ZXJEaXNwbGF5KClcbn1cbiIsImltcG9ydCB7IHN0YXRlIH0gZnJvbSAnLi4vYXBwJ1xuaW1wb3J0IHsgVUlfQ09OU1RBTlRTIH0gZnJvbSAnLi4vZGF0YS9jb25zdGFudHMnXG5pbXBvcnQgeyBoYW5kbGVEZWNyZW1lbnRBY3Rpb24gfSBmcm9tICcuL2hhbmRsZURlY3JlbWVudEFjdGlvbidcbmltcG9ydCB7IGhhbmRsZUl0ZW1BZGRSZW1vdmUgfSBmcm9tICcuL2hhbmRsZUl0ZW1BZGRSZW1vdmUnXG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVDb3VudGVyRGVjcmVtZW50KCkge1xuICBpZiAoc3RhdGUuY291bnRlcikge1xuICAgIGhhbmRsZURlY3JlbWVudEFjdGlvbigpXG4gICAgaGFuZGxlSXRlbUFkZFJlbW92ZShVSV9DT05TVEFOVFMuUkVNT1ZFKVxuICB9XG59XG4iLCJpbXBvcnQgeyBzdGF0ZSB9IGZyb20gJy4uL2FwcCdcbmltcG9ydCB7IGhhbmRsZUNvdW50ZXJEaXNwbGF5IH0gZnJvbSAnLi9oYW5kbGVDb3VudGVyRGlzcGxheSdcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZURlY3JlbWVudEFjdGlvbigpIHtcbiAgaWYgKHN0YXRlLmNvdW50ZXIgPiAwKSB7XG4gICAgc3RhdGUuY291bnRlciA9IHN0YXRlLmNvdW50ZXIgLSAxXG4gICAgaGFuZGxlQ291bnRlckRpc3BsYXkoKVxuICB9XG59XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJVSV9DT05TVEFOVFMiLCJoYW5kbGVDb3VudGVyRGlzcGxheSIsImNvdW50ZXJEaXNwbGF5IiwiaW5uZXJIVE1MIiwic3RhdGUiLCJjb3VudGVyIiwic2h1ZmZsZSIsImFycmF5IiwicmFuZG9tSW5kZXgiLCJjdXJyZW50SW5kZXgiLCJsZW5ndGgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJoYW5kbGVSZW1vdmVTaGFwZSIsInBvcERhdGEiLCJpbml0aWFsRGF0YSIsImZpbHRlciIsImRhdGEiLCJpZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW1vdmUiLCJoYW5kbGVSZW1vdmVGaWd1cmVPbkNsaWNrIiwiZ2FtZUJveFNjcmVlbkhvbGRlciIsImUiLCJmaWd1cmUiLCJ0YXJnZXQiLCJmaW5kIiwiaXRlbSIsImhhbmRsZUl0ZW1BZGRSZW1vdmUiLCJ0eXBlIiwibmV3RGF0YSIsImFycjEiLCJhcnIyIiwib25lIiwidHdvIiwicG9wIiwiZmF2IiwiZmF2Q29sb3JzIiwic2l6ZSIsInNoYXBlIiwidHlwZUFyciIsInNwbGl0IiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsInN0eWxlIiwibGVmdCIsInNldFRpbWVvdXQiLCJoYW5kbGVDcmVhdGVJbWFnZSIsInBvc2l0aW9uIiwic2V0SW50ZXJ2YWwiLCJvZmZzZXRIZWlnaHQiLCJjbGVhckludGVydmFsIiwiYm90dG9tIiwic2xpY2UiLCJoYW5kbGVDb3VudGVyRGlzYWJsZSIsImNvdW50ZXJCdG5zIiwiZm9yRWFjaCIsImJ0biIsIml0ZW1zIiwibGltaXQiLCJTSEFQRVMiLCJnYW1lQm94IiwicXVlcnlTZWxlY3RvciIsInBsYXlCdG5zIiwicXVlcnlTZWxlY3RvckFsbCIsImlkeCIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRBdHRyaWJ1dGUiLCJ0b1VwcGVyQ2FzZSIsImhhbmRsZUNvdW50ZXJFbmFibGUiLCJoYW5kbGVUcmlnZ2VyU3RhcnRTdG9wIiwiaGFuZGxlU3RhcnRTdG9wIiwiaGFuZGxlQWRkUmVtb3ZlSXRlbXMiLCJoYW5kbGVDb3VudGVyQWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==